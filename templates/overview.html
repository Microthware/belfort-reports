<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>AI Trading Bots — Overview</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{--bg:#0b0f14;--card:#11161d;--muted:#8ea0b3;--text:#e7eef7;--green:#16a34a;--red:#dc2626;--row-hover:#1a222d;--border:#223142}
    html,body{background:var(--bg);color:var(--text);margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
    .wrap{max-width:1100px;margin:32px auto 24px;padding:0 16px}
    h1{font-size:22px;margin:0 0 8px;letter-spacing:.3px}
    .hint{color:var(--muted);margin:8px 0 16px}
    .table-card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden}
    table{width:100%;border-collapse:collapse}
    thead th{padding:12px 14px;background:rgba(255,255,255,.02);border-bottom:1px solid var(--border);text-align:left;font-weight:600;font-size:13px;color:var(--muted)}
    tbody td{padding:14px;border-bottom:1px solid var(--border);font-size:14px}
    tbody tr{cursor:pointer}
    tbody tr:hover{background:var(--row-hover)}
    .model{display:flex;align-items:center;gap:10px;font-weight:600}
    .badge{font-weight:500;color:var(--muted);font-size:12px}
    .money.up{color:var(--green);font-weight:600}
    .money.down{color:var(--red);font-weight:600}
    .winrate{display:flex;align-items:center;gap:10px}
    .pie{--p:50%;width:44px;height:44px;border-radius:50%;background:conic-gradient(var(--green) var(--p),var(--red) 0);-webkit-mask:radial-gradient(farthest-side,#0000 58%,#000 60%);mask:radial-gradient(farthest-side,#0000 58%,#000 60%);box-shadow:0 0 0 1px var(--border) inset}
    .winrate-text{font-weight:800}
    .footer{margin-top:16px;display:flex;justify-content:flex-end;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>AI Trading Bots — Overview</h1>
    <div class="hint">Click a row to open that bot's detailed report.</div>

    <div class="table-card">
      <table>
        <thead>
          <tr>
            <th>Model</th><th>Win Rate</th><th>Balance</th><th>Avg Win %</th><th>Avg Loss %</th><th>Trades</th><th>Last Update</th>
          </tr>
        </thead>
        <tbody>
          {% for bot in bots %}
          <tr onclick="location.href='{{ bot.link }}'">
            <td>
              <div class="model">
                <span>{{ bot.name }}</span>
                {% if bot.symbols and bot.symbols != "—" %}<span class="badge">{{ bot.symbols }}</span>{% endif %}
              </div>
            </td>
            <td>
              <div class="winrate">
                <div class="pie" style="--p: {{ (bot.win_rate_num*100)|round(2) }}%;"></div>
                <span class="winrate-text">{{ (bot.win_rate_num*100)|round(1) }}%</span>
              </div>
            </td>
            <td><span class="money {% if bot.balance_dir >= 0 %}up{% else %}down{% endif %}">{{ bot.balance }}</span></td>
            <td>{{ bot.avg_win }}</td>
            <td>{{ bot.avg_loss }}</td>
            <td>{{ bot.trades }}</td>
            <td>{{ bot.updated }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="footer">Updated {{ gen_time }}</div>
  </div>
</body>
</html>
